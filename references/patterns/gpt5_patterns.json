{
  "meta": {
    "version": "1.0.0",
    "description": "GPT-5 prompting patterns based on OpenAI GPT-5 Prompting Guide",
    "source": "https://cookbook.openai.com/examples/gpt-5/gpt-5_prompting_guide",
    "last_updated": "2025-01-12"
  },

  "agentic_patterns": {
    "low_eagerness": {
      "description": "빠른 답변, 최소 탐색 - latency-sensitive 작업에 적합",
      "reasoning_effort": "low",
      "characteristics": [
        "빠르게 충분한 컨텍스트 수집",
        "병렬화 및 조기 중단",
        "정확한 변경 내용 명시 또는 70% 신호 수렴 시 중단"
      ],
      "use_cases": [
        "간단한 질문 응답",
        "빠른 코드 수정",
        "즉각적인 피드백 필요"
      ],
      "prompt_patterns": [
        "Get enough context fast. Parallelize and stop ASAP.",
        "Early stop: Can name exact content to change OR signals converge ~70%",
        "If you can confidently answer within 2 tool calls, do so immediately."
      ]
    },

    "medium_eagerness": {
      "description": "균형잡힌 탐색 - 대부분의 일반 작업에 적합",
      "reasoning_effort": "medium",
      "characteristics": [
        "적절한 컨텍스트 수집",
        "중요한 정보는 확인",
        "불확실성이 크면 사용자 확인"
      ],
      "use_cases": [
        "일반적인 코딩 작업",
        "분석 및 리뷰",
        "중간 복잡도 문제"
      ],
      "prompt_patterns": [
        "Balance thoroughness with efficiency",
        "Confirm critical decisions with user",
        "Document key assumptions clearly"
      ]
    },

    "high_eagerness": {
      "description": "완전 자율, 철저한 탐색 - 복잡한 작업에 적합",
      "reasoning_effort": "high",
      "characteristics": [
        "완전히 해결될 때까지 계속",
        "가정을 문서화하되 확인 요청 안함",
        "불확실성에서도 자율적으로 진행"
      ],
      "use_cases": [
        "복잡한 시스템 설계",
        "대규모 리팩토링",
        "종합적인 분석"
      ],
      "prompt_patterns": [
        "Keep going until completely resolved before yielding",
        "Document assumptions rather than requesting confirmation",
        "Explore all relevant aspects thoroughly",
        "If uncertain, proceed with best judgment and document reasoning"
      ]
    }
  },

  "tool_preambles": {
    "user_friendly": {
      "description": "사용자 친화적인 도구 사용 - 투명성과 명확성 제공",
      "components": [
        "사용자 목표를 친근하고 명확하게 재구성",
        "논리적 단계를 상세히 설명하는 구조화된 계획 작성",
        "실행 중 도구 프리앰블 메시지를 통한 진행 상황 업데이트"
      ],
      "examples": [
        "Let me help you [restate goal]. I'll approach this by: 1) [step], 2) [step], 3) [step]",
        "Progress update: Completed [X], now working on [Y]",
        "Found [result]. Next, I'll [action]."
      ],
      "benefits": [
        "사용자 신뢰 증가",
        "진행 상황 명확화",
        "디버깅 용이"
      ]
    },

    "minimal": {
      "description": "최소한의 프리앰블 - 빠른 실행이 중요한 경우",
      "components": [
        "간단한 목표 확인",
        "핵심 단계만 언급"
      ],
      "examples": [
        "I'll [action] to [goal]",
        "Checking [X]..."
      ]
    }
  },

  "xml_structures": {
    "basic": {
      "description": "기본 XML 구조 - 간단한 작업",
      "template": "<instruction_spec>\n  <role>{{role}}</role>\n  <task>{{task}}</task>\n  <constraints>{{constraints}}</constraints>\n</instruction_spec>",
      "usage": "역할, 작업, 제약사항이 명확한 경우"
    },

    "agentic": {
      "description": "Agentic XML 구조 - 자율적 작업",
      "template": "<instruction_spec>\n  <tool_preambles>\n    {{preambles}}\n  </tool_preambles>\n  <persistence>\n    {{persistence}}\n  </persistence>\n  <escape_hatches>\n    {{escapes}}\n  </escape_hatches>\n  <constraints>\n    {{constraints}}\n  </constraints>\n</instruction_spec>",
      "usage": "복잡한 자율 작업, 여러 도구 사용"
    },

    "code_editing": {
      "description": "코드 편집 특화 XML 구조",
      "template": "<code_editing_rules>\n  <guiding_principles>\n    {{principles}}\n  </guiding_principles>\n  <frontend_stack>\n    {{stack}}\n  </frontend_stack>\n  <directory_structure>\n    {{structure}}\n  </directory_structure>\n  <ui_ux_best_practices>\n    {{practices}}\n  </ui_ux_best_practices>\n</code_editing_rules>",
      "usage": "코드베이스 표준에 맞춘 코딩"
    }
  },

  "contradiction_patterns": {
    "common_contradictions": [
      {
        "pattern": ["never.*without", "auto.*without"],
        "description": "절대 하지 말라는 것과 자동으로 하라는 모순",
        "example": "Never schedule without patient consent but auto-assign appointments immediately",
        "severity": "high",
        "fix_strategy": "우선순위를 명확히 하거나 조건부로 수정"
      },
      {
        "pattern": ["always confirm", "proceed without asking"],
        "description": "항상 확인하라는 것과 확인 없이 진행하라는 모순",
        "example": "Always confirm with user but proceed without asking for approval",
        "severity": "high",
        "fix_strategy": "어떤 경우에 확인하고 어떤 경우에 자동 진행할지 명시"
      },
      {
        "pattern": ["thoroughly", "minimize"],
        "description": "철저히 하라는 것과 최소화하라는 모순",
        "example": "Thoroughly gather all information but minimize context collection",
        "severity": "medium",
        "fix_strategy": "균형잡힌 접근 방식 명시"
      },
      {
        "pattern": ["maximize", "as quickly as possible"],
        "description": "최대화와 빠른 실행의 모순",
        "example": "Maximize code quality but implement as quickly as possible",
        "severity": "medium",
        "fix_strategy": "우선순위나 트레이드오프 명시"
      },
      {
        "pattern": ["must be certain", "proceed anyway"],
        "description": "확실해야 한다는 것과 진행하라는 모순",
        "example": "Only proceed if completely certain but continue even with uncertainty",
        "severity": "high",
        "fix_strategy": "확신 수준 임계값 명시 (예: 70% 확신이면 진행)"
      }
    ],

    "detection_keywords": {
      "absolute_prohibitions": ["never", "absolutely not", "under no circumstances", "must not"],
      "absolute_requirements": ["always", "must", "required", "mandatory", "essential"],
      "contradiction_indicators": ["but", "however", "although", "despite", "yet", "whereas"]
    }
  },

  "verbosity_patterns": {
    "low": {
      "description": "간결한 응답 - 핵심만 전달",
      "characteristics": [
        "불필요한 설명 제거",
        "핵심 정보만 제공",
        "간결한 문장"
      ],
      "use_cases": ["간단한 질문", "빠른 확인", "명확한 작업"]
    },

    "medium": {
      "description": "균형잡힌 응답 - 적절한 설명",
      "characteristics": [
        "필요한 설명 포함",
        "맥락 제공",
        "예시 포함 가능"
      ],
      "use_cases": ["일반적인 작업", "교육적 답변", "중간 복잡도"]
    },

    "high": {
      "description": "상세한 응답 - 포괄적 설명",
      "characteristics": [
        "상세한 설명",
        "여러 예시",
        "대안 제시",
        "배경 정보"
      ],
      "use_cases": ["복잡한 주제", "교육", "종합적 분석"]
    }
  },

  "reasoning_effort_mapping": {
    "complexity_thresholds": {
      "low": {
        "range": "0-3",
        "indicators": [
          "단일 파일 작업",
          "간단한 질문",
          "명확한 답변",
          "기본 작업"
        ],
        "reasoning_effort": "low"
      },
      "medium": {
        "range": "4-7",
        "indicators": [
          "다중 파일 작업",
          "중간 복잡도 분석",
          "여러 단계 필요",
          "일부 불확실성"
        ],
        "reasoning_effort": "medium"
      },
      "high": {
        "range": "8-10",
        "indicators": [
          "시스템 전체 변경",
          "복잡한 아키텍처",
          "높은 불확실성",
          "여러 도메인 통합"
        ],
        "reasoning_effort": "high"
      }
    }
  },

  "tech_stack_recommendations": {
    "frontend": {
      "frameworks": ["Next.js (TypeScript)", "React", "HTML"],
      "styling": ["Tailwind CSS", "shadcn/ui", "Radix Themes"],
      "icons": ["Material Symbols", "Heroicons", "Lucide"],
      "animation": ["Motion"],
      "fonts": ["Inter", "Geist", "Mona Sans"]
    },
    "backend": {
      "recommended": "Context-dependent",
      "note": "GPT-5 guide focuses on frontend, backend depends on existing stack"
    }
  },

  "anti_patterns": {
    "over_emphasis_thoroughness": {
      "description": "철저함을 과도하게 강조",
      "problem": "불필요한 도구 과다 사용, 토큰 낭비",
      "examples": [
        "Maximize context gathering",
        "Collect all possible information",
        "Explore every single option"
      ],
      "fix": "컨텍스트 수집과 내부 지식의 균형"
    },

    "missing_escape_hatches": {
      "description": "불확실성 처리 방법 부재",
      "problem": "불확실할 때 멈춤",
      "examples": [
        "Only if completely certain",
        "Must be 100% sure before proceeding"
      ],
      "fix": "임계값 설정 (예: 70% 확신이면 진행)"
    },

    "ambiguous_tool_definitions": {
      "description": "도구 사용이 애매모호",
      "problem": "Agentic 자율성 감소",
      "examples": [
        "Use tools as needed",
        "Call functions when appropriate"
      ],
      "fix": "명확한 도구 사용 기준과 임계값 설정"
    },

    "verbose_default": {
      "description": "기본적으로 장황한 출력",
      "problem": "긴 대기 시간, 토큰 낭비",
      "examples": [
        "Provide detailed explanation for everything",
        "Always include background information"
      ],
      "fix": "verbosity 파라미터 사용 또는 간결성 강조"
    }
  },

  "prompt_metaoptimization": {
    "template": "다음 프롬프트를 분석하고 GPT-5 prompting guide 원칙에 따라 개선해주세요:\n\n원본 프롬프트:\n{original_prompt}\n\n현재 문제점:\n{issues}\n\n원하는 행동:\n{desired_behavior}\n\n원하지 않는 행동:\n{undesired_behavior}\n\n다음 항목을 분석해주세요:\n1. 어떤 구체적 문구를 추가하면 원하는 행동을 더 일관되게 이끌 수 있나요?\n2. 어떤 문구를 삭제하면 원하지 않는 행동을 방지할 수 있나요?\n3. Reasoning effort는 어떻게 설정해야 하나요?\n4. Anti-patterns가 있나요?\n5. 개선된 프롬프트를 제시해주세요.",
    "description": "GPT-5를 사용한 자체 프롬프트 최적화"
  },

  "markdown_degradation_fix": {
    "problem": "긴 대화에서 마크다운 포맷팅 저하",
    "solution": "3-5 메시지마다 재강조",
    "prompt_addition": "Use Markdown **only where semantically correct** (headings, lists, emphasis, code blocks)."
  },

  "context_efficiency": {
    "balanced_approach": {
      "description": "컨텍스트 수집과 내부 지식의 균형",
      "avoid": [
        "Maximize context",
        "Gather all possible information",
        "Read every file"
      ],
      "prefer": [
        "Gather sufficient context",
        "Balance context with existing knowledge",
        "Read relevant files"
      ]
    }
  }
}
